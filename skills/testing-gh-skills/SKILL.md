---
name: testing-gh-skills
description: Use when validating gh CLI search skills - spawns test-orchestrator agent that manages hierarchical testing with group leaders and test validators to execute comprehensive test suite
---

# Testing GitHub CLI Search Skills

## Overview

Execute comprehensive test suite for all gh CLI search skills using a **3-tier hierarchical agent architecture**. The test-orchestrator coordinates everything, spawning group leaders for each scenario file, which spawn individual test validators.

**Core Principle:** Hierarchical agent coordination enables parallel execution and comprehensive reporting at all levels.

## When to Use

Use this skill when:
- Running full test suite for all gh CLI search skills
- Validating skills after updates or changes
- Running regression tests
- Verifying skills are production-ready
- Need comprehensive test report with 80+ test results

**Don't use when:**
- Testing a single command manually (use `./testing/scripts/run-single-test.sh` directly)
- Skills haven't been created yet
- Need to write new test scenarios first

## Architecture

```
/test-gh-skills command
  └─> testing-gh-skills skill
      └─> test-orchestrator agent
          ├─> test-group-leader (gh-search-code-tests.md)
          │   ├─> test-validator (test 1)
          │   ├─> test-validator (test 2)
          │   └─> ... (15 tests)
          ├─> test-group-leader (gh-search-commits-tests.md)
          │   └─> ... (10 tests)
          ├─> test-group-leader (gh-search-issues-tests.md)
          │   └─> ... (20 tests)
          ├─> test-group-leader (gh-search-prs-tests.md)
          │   └─> ... (15 tests)
          ├─> test-group-leader (gh-search-repos-tests.md)
          │   └─> ... (10 tests)
          └─> test-group-leader (gh-cli-setup-tests.md)
              └─> ... (10 tests)

Total: 80 tests across 6 groups
```

### Agent Responsibilities

**test-orchestrator** (`agents/test-orchestrator.md`):
- Discovers all test scenario files in `testing/scenarios/`
- Spawns one test-group-leader per scenario file
- Collects reports from all group leaders
- Generates consolidated master report
- Writes to: `./testing/reports/yyyy-mm-dd_{COUNT}/REPORT.md`

**test-group-leader** (`agents/test-group-leader.md`):
- Parses assigned scenario file
- Extracts individual test definitions
- Spawns one test-validator per test
- Collects results from all validators
- Generates group report
- Writes to: `./testing/reports/yyyy-mm-dd_{COUNT}/{group-name}/REPORT.md`

**test-validator** (`agents/test-validator.md`):
- Executes `./testing/scripts/run-single-test.sh` with user request
- Evaluates response against expected criteria
- Determines pass/fail
- Writes detailed test report
- Writes to: `./testing/reports/yyyy-mm-dd_{COUNT}/{group-name}/{test-number}.md`

## How to Use

### 1. Spawn Test-Orchestrator

Dispatch a Task tool with subagent_type `general-purpose` to run the test-orchestrator:

```
Execute the test-orchestrator agent to run the full gh CLI search skills test suite.

The test-orchestrator agent instructions are located at: agents/test-orchestrator.md

Follow all instructions in that agent file to:
1. Discover all test scenario files
2. Spawn test-group-leader subagents
3. Collect hierarchical results
4. Generate master report

Report back when complete with summary of results.
```

### 2. Wait for Completion

The test-orchestrator will:
- Spawn 6 test-group-leader agents (one per scenario file)
- Each group leader spawns 10-20 test-validator agents
- Total 80 tests executed across hierarchy
- Reports generated at all 3 levels

### 3. Review Results

Check the master report at:
```
./testing/reports/yyyy-mm-dd_{COUNT}/REPORT.md
```

This contains:
- Overall pass/fail summary
- Results by group
- Failed tests detail
- Recommendations

## Report Structure

### Level 1: Master Report
**Location:** `./testing/reports/yyyy-mm-dd_{COUNT}/REPORT.md`
**Generated by:** test-orchestrator
**Contents:** Overall summary, results by group, failed tests, recommendations

### Level 2: Group Reports
**Location:** `./testing/reports/yyyy-mm-dd_{COUNT}/{group-name}/REPORT.md`
**Generated by:** test-group-leader
**Contents:** Group summary, individual test results, group-specific issues

### Level 3: Individual Test Reports
**Location:** `./testing/reports/yyyy-mm-dd_{COUNT}/{group-name}/{test-number}.md`
**Generated by:** test-validator
**Contents:** Test details, response, validation, pass/fail determination

## Key Principles

### Hierarchical Coordination
- test-orchestrator manages overall execution
- test-group-leader manages tests within a scenario file
- test-validator executes and evaluates individual tests
- Clear separation of concerns

### Parallel Execution
- Multiple group leaders can run concurrently
- Multiple test validators within a group can run concurrently
- Much faster than sequential execution

### Comprehensive Reporting
- 3 levels of reports for different audiences
- Master report for quick overview
- Group reports for category-specific issues
- Individual reports for test details

### Authentic Testing
- Test subjects receive ONLY user requests (via run-single-test.sh)
- No test criteria given to the test subject
- Test validators evaluate responses against criteria
- Skills tested as they would be used naturally

## Test Categories

Tests validate:
- **Syntax:** Correct flag usage, command structure, qualifier syntax
- **Quoting:** Multi-word queries, comparison operators, labels with spaces
- **Exclusions:** `--` flag presence, PowerShell `--% `, exclusions inside quotes
- **Special Values:** `@me` syntax, date formats (ISO8601), comparison operators
- **Platform-Specific:** Unix/Linux/Mac vs PowerShell requirements
- **Edge Cases:** Unusual characters, empty values, boundary conditions

## Success Criteria

**Testing is successful when:**
- All 80 tests execute
- 100% pass rate achieved
- Master report generated
- All group reports generated
- All individual test reports generated
- Skills are production-ready

**If tests fail:**
- Review failure details in reports
- Fix affected skills
- Re-run full test suite
- Verify 100% pass rate

## Related Documentation

- Test-orchestrator agent: `agents/test-orchestrator.md`
- Test-group-leader agent: `agents/test-group-leader.md`
- Test-validator agent: `agents/test-validator.md`
- Test scenarios: `testing/scenarios/`
- Skills being tested: `skills/gh-search-*/`
- Architecture details: `testing/README.md`

## Common Issues

### Tests Not Running
- Verify agent files exist in `agents/` directory
- Check test scenario files exist in `testing/scenarios/`
- Ensure `./testing/scripts/run-single-test.sh` is executable

### Reports Not Generated
- Check test-orchestrator created timestamped directory
- Verify group leaders have write permissions
- Look for error messages in agent outputs

### Unexpected Failures
- Review individual test reports for detailed findings
- Check if skills were recently modified
- Verify test criteria still match skill documentation
- Re-run individual test with `run-single-test.sh` to debug

## Notes

- Total of 80 test scenarios across 6 skills
- Hierarchical architecture enables scalability
- Easy to add new test scenarios or scenario files
- Reports provide audit trail of all testing activity
- Run full suite before releasing skill updates
